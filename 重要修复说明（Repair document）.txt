本版支持PS25.2及以上版本，可支持最新版 PS27.1

主要优化部份

 一、 MASK修复。
修复了蒙版在PS2025-2026版本下输出不正确问题（PS2024以下版本使用无需修复），在PS2025-2026版本中，未修复前输出的蒙版不干净，有灰色的混合图层。修复后的蒙版为正常的黑白通道，逻辑是，PS中有选区时输出黑底白图，白色区域为不透明，黑色为透明，如果PS无任何选区，则以文档尺寸输出白色蒙版，即默认文档大小作为蒙版输出。

二、rgthree 支持
修复了对rgthree 1.0.0以上版本的支持，目前支持到最新版本 rgthree-comfy  版本：1.0.2512112053，实际测试nightly版本也可以很好支持。如果安装时PS插件不能连接到comfyui ，可以手动安装 rgthree-comfy 一般可以解决。因为新版本的rgthree-comfy修改了一些属性和对象的实现方法，但升级后的插件是兼容以前的工作流的，不用担心。

 三、高清图像支持
 优化了从PS中获取图片时的质量问题，社区原版获取的是PS文档的预览图，图片文件很小，放大时模糊，现优化为直接获取文档元数据，相当于RAW格式，文件为未压缩的PNG格式，一般1024*1024图片实际大小3M左右，2048*2048为12M左右，弃用BASE64编码方式传递，使用二进制传送到comfyui端。现支持全尺寸，裁剪模式，以及实时绘画。  


最新消息：

2026年1月2日，我做了很多优化，比如将图片的传输模式改为二进制，弃用了原来的base64传输方式，从此大图片传输时不会再卡顿和漫长的等待。另外修复了UI的各种BUG.比如种子不更新，提示词不更新，双箭头逻辑错误，以及中文用户不能在提示词框输中文等等，具体请自行体验，这个版本应该是目前最完整的一个修复版，祝您用得开心！

2025年12月28日，我发布了一新的升级版:v1.93(pro),现在可以一次发送4张图片到PS中，更加高效率生产素材和重绘。（因为属于测试版，暂未同步到仓库代码中，请从右边12月28日发布的comfyui-photoshop_v1.93(pro)高清多图版.zip下载。）

2025年12月25日，修复了一个小BUG，因为浮点数计算取整原因，蒙版和图片有时会出现相差一个像素的问题，已修复，保证蒙版和图片尺寸完全一致！

2025年12月24日，恢复了插件设置中的“DownScale if Bigger” 和“Upscale it Smaller.”选项，你可以在图片太大时使用此选项优化输出的图片大小。建议值：最大不要超过5400。目前能保证在5400以内可以获得无损高清相素，超过5400将使用暴力压缩为JPG格式，图片质量不保。但依然可以传送。

2025年12月23日做了一个紧急修复，因为裁剪时有一个变量有问题，个别PS版本会出现裁剪后的图片坐标偏移，已修复，如果你有此问题，请重新下载PS插件端，替换你原来的插件端就可以了！！

-----------------------
特别说明：
插件属于作者 NimaNzrii 全权所有，项目地址：https://github.com/NimaNzrii/comfyui-photoshop ，根据License说明 ，未经NimaNzrii 书面同意请不要随意分发和售卖本插件。（BUG FIX：cdmusic）







This version supports PS25.2 and above, and is compatible with the latest version PS27.1.

Main Optimizations

1. MASK Fix
Fixed the issue where masks output incorrectly in PS2025–2026 versions (no fix needed for PS2024 and earlier). In PS2025–2026, masks output before the fix were not clean and contained gray mixed layers. After the fix, masks are normal black-and-white channels. The logic is as follows: when there is a selection in Photoshop, the output is a black background with a white map, where white areas represent opacity and black represents transparency. If there is no selection in Photoshop, a white mask matching the document dimensions is output, meaning the default document size is used as the mask output.

2. rgthree Support
Fixed support for rgthree versions above 1.0.0. Currently supports up to the latest version rgthree-comfy: 1.0.2512112053. Actual testing shows good compatibility with nightly versions as well. If the PS plugin cannot connect to ComfyUI during installation, manually installing rgthree-comfy usually resolves the issue. The new version of rgthree-comfy has modified some property and object implementation methods, but the upgraded plugin remains compatible with previous workflows, so no worries.

3. High-Definition Image Support
The quality of images retrieved from Photoshop has been optimized. The original community version retrieved preview images of the Photoshop document, resulting in small file sizes and blurriness when zoomed in. The current version directly retrieves the document's metadata, equivalent to RAW format, with uncompressed PNG files. A typical 1024x1024 image is approximately 3MB in size, and a 2048x2048 image is approximately 12MB. Base64 encoding has been abandoned in favor of binary transmission to the ComfyUI client. Full-size, cropped mode, and real-time drawing are now supported.


Latest News:


January 2, 2026
I have implemented many optimizations, such as changing the image transmission mode to binary and abandoning the original base64 transmission method. As a result, large image transfers will no longer experience lag or prolonged waiting times. Additionally, various UI bugs have been fixed, including issues like seeds not updating, prompts not refreshing, logic errors with double arrows, and Chinese users being unable to input Chinese in the prompt box, among others. For more details, please experience it firsthand. This version should be the most comprehensive fix to date. I hope you enjoy using it!

December 28, 2025
I released a new upgrade: v1.93(pro). It now allows sending 4 images to Photoshop at once, significantly improving efficiency for material production and repainting. (As this is a beta version, it has not yet been synchronized to the repository code. Please download it from the comfyui-photoshop_v1.93(pro) High-Definition Multi-Image Edition.zip released on December 28th on the right.)

December 25, 2025:
Fixed a minor bug where masks and images occasionally showed a one-pixel discrepancy due to rounding errors in floating-point calculations. The issue has been resolved to ensure perfect alignment between mask and image dimensions.

December 24, 2025
I have restored the "DownScale if Bigger" and "Upscale it Smaller" options in the plugin settings. You can use these options to optimize the output image size when the image is too large. The recommended value is not to exceed 5400. Currently, it is guaranteed that images within 5400 pixels can maintain lossless high-definition quality. Exceeding 5400 will result in forced compression to JPG format, and image quality cannot be guaranteed, though the images can still be transmitted.

December 23, 2025
An emergency fix was made on December 23, 2025, because there was an issue with a variable during cropping. Some PS versions experienced coordinate offsets in cropped images, which has now been fixed. If you are experiencing this problem, please re-download the PS plugin and replace your original plugin version!

Special Notes:

The plugin is fully owned by the author NimaNzrii. Project address: https://github.com/NimaNzrii/comfyui-photoshop. According to the license, please do not distribute or sell this plugin without written consent from NimaNzrii. (BUG FIX: cdmusic)






