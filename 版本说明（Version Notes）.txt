This version is optimized and upgraded based on the original v1.93. It now supports high-definition, multi-image, and cloud-based usage.

ä¸€ã€åŠŸèƒ½é‡å†™ï¼š
1. è’™ç‰ˆ
å¯¹è’™ç‰ˆï¼ˆmaskï¼‰çš„è·å–ä»£ç è¿›è¡Œäº†é‡å†™ï¼Œè®©å®ƒå¯ä»¥æ”¯æŒ PS æœ€æ–°ç‰ˆæœ¬ã€‚æ”¯æŒ PS 2024 - PS 2026ï¼Œè¾“å‡ºæ ‡å‡†çš„é»‘ç™½è’™ç‰ˆã€‚
2. rgthreeèŠ‚ç‚¹æ”¯æŒæœ€æ–°ç‰ˆæœ¬ï¼š
å¯¹å·¥ä½œæµåˆ†ç»„èŠ‚ç‚¹åŒæ­¥ä»£ç è¿›è¡Œäº†é‡å†™ï¼Œå¯ä»¥æ”¯æŒæœ€æ–°ç‰ˆæœ¬çš„ rgthreeã€‚ä»£ç ä¸Šå¢åŠ æ›´å¤šçš„é¢œè‰²åŒ¹é…æ–¹å¼ï¼Œæ›´å®¹æ˜“åŒæ­¥å·¥ä½œæµï¼›å¢åŠ å‚»ç“œå¼åŒæ­¥æ–¹æ³•ï¼Œåªè¦å·¥ä½œæµä¸­æœ‰ä¸€ä¸ª (Fast Groups Muter) èŠ‚ç‚¹ï¼Œå°±å¯ä»¥åŒæ­¥å·¥ä½œæµæ¨¡å—ã€‚
3. å›¾ç‰‡ä¼ è¾“å‡ä½¿ç”¨äºŒè¿›åˆ¶ï¼ˆå¿«é€Ÿï¼‰
å¯¹å›¾ç‰‡ï¼ˆè’™ç‰ˆé™¤å¤–ï¼‰çš„ä¼ è¾“æ–¹å¼è¿›è¡Œäº†é‡å†™ï¼ŒåŒ…æ‹¬ä» PS è·å–å›¾ç‰‡ï¼Œæˆ– ComfyUI ç”Ÿæˆçš„å›¾ç‰‡å‘é€åˆ° PSã€‚å¼ƒç”¨äº†åŸæ¥çš„ç¼–ç æ–¹å¼ï¼ˆbase64ç¼–ç ï¼‰ï¼Œé‡‡ç”¨äºŒè¿›åˆ¶çš„æ–¹å¼æ¥ä¼ é€ï¼Œè·å–æœ€å¿«çš„ä¼ è¾“é€Ÿç‡ã€‚
4. å›¾ç‰‡æ¸…æ™°åº¦ä¼˜åŒ–ã€‚
é¦–å…ˆæ˜¯ä» PS è·å–å›¾ç‰‡ï¼ŒåŸç‰ˆæœ¬è·å–çš„æ˜¯ PS çš„é¢„è§ˆï¼Œç”±äºå›¾ç‰‡è¾ƒå°ï¼ˆ1024x1024ï¼‰åªæœ‰ 50-80KBï¼Œå›¾ç‰‡è´¨é‡è¾ƒä½ï¼Œæ”¾å¤§ä¼šæ¨¡ç³Šã€‚ç°ä»£ç æ”¯æŒç›´æ¥è·å– PS å…ƒå›¾ç‰‡ï¼Œæ¸…æ™°åº¦å’Œ PS ä¸€è‡´ï¼Œæ–‡æ¡£è¾ƒå¤§ï¼Œä¸€èˆ¬ 1K çš„å›¾ç‰‡åœ¨ 3M-4Mï¼Œ2K çš„å›¾ç‰‡å¤§å° 10-20M å·¦å³ï¼Œ4K çš„å›¾ç‰‡ 30-40M å·¦å³ã€‚
å¯¹ PS ä¸Šä¼ åˆ° ComfyUI çš„å›¾ç‰‡å¤§å°é€»è¾‘æ˜¯ï¼šæœ¬åœ°ä½¿ç”¨æœ€å¤§ä¸Šä¼ å•å¼ å›¾ç‰‡å¤§å° 85Mï¼ˆ5400x5400pxï¼‰ï¼Œäº‘ç«¯æœ€å¤§ä¸Šä¼ å•å¼ å›¾ç‰‡å¤§å° 35Mï¼ˆ3500x3500pxï¼‰ï¼Œè¶…è¿‡æœ€å¤§å°ºå¯¸æ—¶ä¼šä½¿ç”¨å‹ç¼©åçš„ JPGã€‚äº‘ç«¯å¦‚æœæ–‡æ¡£è¾ƒå¤§ï¼Œå°½é‡ä½¿ç”¨è£å‰ªåŠŸèƒ½ï¼Œå‡å°‘ä¸Šä¼ å‹åŠ›ã€‚
5. PSç«¯å›¾ç‰‡å®¹å™¨é‡å†™ï¼ˆæœ€å¤§æ”¯æŒ9å¼ å›¾ç‰‡ï¼‰
åŸç‰ˆæœ¬åªæ”¯æŒ 1 å¼ å›¾ç‰‡ï¼ˆ1x1ï¼‰æ˜¾ç¤ºã€‚ç°åœ¨å¯¹å®¹å™¨è¿›è¡Œäº†é‡å†™ï¼Œå¢åŠ äº† 2x2 å’Œ 3x3 çš„å›¾ç‰‡ç½‘æ ¼ï¼Œæ”¯æŒä» ComfyUI å‘é€åˆ° PS çš„å›¾ç‰‡æ•°é‡æ˜¯ 1-9 å¼ ï¼Œæ ¹æ®å›¾ç‰‡æ•°é‡ä½¿ç”¨ä¸åŒçš„ç½‘æ ¼ã€‚ï¼ˆPSç«¯æ¥æ”¶å›¾ç‰‡çš„é€»è¾‘æ˜¯å›¾ç‰‡ç»„ï¼ˆimage batchï¼‰ï¼Œæ— è®ºç”¨ä½•ç§æ–¹å¼ç”Ÿæˆçš„ batch éƒ½å¯ä»¥è¾“é€åˆ° PS ä¸­ï¼‰
6. æ–°å¢äº‘ç«¯æ”¯æŒ
å¯ä»¥æ”¯æŒäº‘ç«¯ ComfyUIï¼Œä½†éœ€è¦äº‘ç«¯æ”¯æŒå®Œæ•´å®‰è£…æœ¬æ’ä»¶å¹¶æ”¯æŒåŠ è½½æ’ä»¶çš„ JSã€‚æˆ‘æµ‹è¯•èƒ½ç”¨çš„ç¯å¢ƒæ˜¯ï¼šä»™å®«äº‘ã€AutoDL ç®—åŠ›äº‘ã€‚å…¶ä»–äº‘è‡ªè¡Œæµ‹è¯•ã€‚ï¼ˆç«¯è„‘äº‘æš‚ä¸æ”¯æŒï¼Œå› ä¸º JS ä¸èƒ½åŠ è½½ï¼Œé—®å®¢æœåŠå¤©ä¸å›å¤ï¼Œæ”¾å¼ƒï¼ï¼‰

äºŒã€ç•Œé¢æˆ–UIä¿®å¤
1. æ’ä»¶é¢æ¿æ‚¬æµ®å±‚ä¼˜åŒ–ï¼Œç§å­ã€æç¤ºè¯åŒæ­¥ï¼Œå…¶ä»–æ›´å¤šä¼˜åŒ–è‡ªè¡Œä½“éªŒã€‚
2. ä¿®å¤äº†ä¸€ä¸ªç»å…¸çš„ BUGï¼Œå°±æ˜¯ ComfyUI èƒ½è¿ä¸Š PSï¼Œä½† PS ä¸èƒ½å‘é€åˆ° ComfyUI çš„ BUGã€‚
3. ç¤¾åŒºä¸­è§åˆ°çš„å¤§éƒ¨åˆ† bug éƒ½å·²ç»ä¿®å¤ã€‚

æ€»ä¹‹ï¼Œè¿™ä¸ªç‰ˆæœ¬åº”è¯¥æ˜¯ç›®å‰æœ€å®Œæ•´çš„ç‰ˆæœ¬ï¼Œä¼˜åŒ–äº†å¾ˆå¤šåœ°æ–¹ã€‚å¯èƒ½é€è¿‡ç•Œé¢ä½ çœ‹ä¸å‡ºæ¥ï¼Œä½†ä½ æ˜æ˜¾èƒ½æ„Ÿè§‰åˆ°ä¼ è¾“é€Ÿåº¦çš„æå‡å’Œæ›´åŠ ç¨³å®šï¼Œä»¥åŠå›¾ç‰‡è´¨é‡çš„æé«˜ã€‚

ä¼˜åŒ–æ—¥å†ï¼š

æœ€æ–°ä¼˜åŒ–ï¼š
2026.1.30
æ·»åŠ äº†äº‘ç«¯æ”¯æŒã€‚æŠŠ IP ä¼˜åŒ–ä¸ºåŠ¨æ€ IPï¼ŒåŠ¨æ€ç«¯å£ï¼Œæ”¯æŒæœ¬åœ° PS è¿æ¥ä¸Šäº‘ç«¯ ComfyUI ä½¿ç”¨ã€‚ï¼ˆå‰ææ¡ä»¶æ˜¯éœ€è¦äº‘ç«¯èƒ½å®Œæ•´çš„å®‰è£…æœ¬æ’ä»¶ï¼ŒåŒ…æ‹¬è¿è¡Œæ’ä»¶çš„ JS ä»£ç ï¼‰

2026.1.24
é‡æ„äº† Photoshop â†’ ComfyUI çš„é›†æˆï¼Œä»¥å®ç°ç»†ç²’åº¦ã€ç¡®å®šæ€§çš„ç¼“å­˜ï¼ŒåŒæ—¶ä¿æŒç®€æ´ä¸”å‘åå…¼å®¹çš„å·¥ä½œæµç¨‹ã€‚ä¼˜åŒ–äº† IS_CHANGED å‡½æ•°ï¼Œä»¥åŠç¼“å­˜æœºåˆ¶ï¼Œå¤„ç†æ›´å¿«é€Ÿã€‚
ä¸»è¦åŒ…æ‹¬ï¼š
1. å°†â€œğŸ”¹Photoshop ComfyUI Pluginâ€è¿›è¡Œäº†ç»†åŒ–ï¼Œåˆ†è§£ä¸ºï¼šå›¾ç‰‡è’™ç‰ˆã€ç§å­ã€æç¤ºè¯ã€æ»‘å—å€¼ç­‰å•ç‹¬çš„èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹åç§°ä¸ºï¼š"ğŸ”¹Photoshop ComfyUI Plugin"ã€"ğŸ”¹Photoshop Seed"ã€"ğŸ”¹Photoshop Prompts"ã€"ğŸ”¹Photoshop Slider"ã€‚æ­å»ºå·¥ä½œæµæ—¶å¯ä»¥å•ç‹¬ä½¿ç”¨å®ƒä»¬ï¼Œè®©å·¥ä½œæµå˜å¾—æ›´ç®€å•é«˜æ•ˆã€‚
2. å…¼å®¹ä»¥å‰çš„å·¥ä½œæµï¼Œå¢åŠ æ–°èŠ‚ç‚¹çš„åŒæ—¶ï¼Œæš‚æ—¶ä¿ç•™äº†åˆå§‹èŠ‚ç‚¹ "ğŸ”¹Photoshop ComfyUI Plugin (aio)"ã€‚å¦‚æœä½ ä½¿ç”¨åŸç‰ˆå·¥ä½œæµï¼Œå®ƒä»ç„¶å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œä¸éœ€åšä»»ä½•ä¿®æ”¹ã€‚
æ„Ÿè°¢ Michoko92 å¯¹ä»£ç çš„ä¼˜åŒ–ï¼Œæœ¬é‡æ„ä»£ç å‡ç”±ï¼šMichoko92 æä¾›ï¼

This version is optimized and upgraded based on the original v1.93. It now supports high-definition, multi-image, and cloud-based usage.

I. Feature Rewrites
1. Mask
The code for obtaining masks has been rewritten to support the latest version of Photoshop. It is compatible with PS 2024â€“PS 2026 and outputs standard black-and-white masks.
2. rgthree Node Support for the Latest Version
The workflow group node synchronization code has been rewritten to support the latest version of rgthree. More color matching methods have been added to the code, making workflow synchronization easier. A foolproof synchronization method has been introduced: as long as there is one "Fast Groups Muter" node in the workflow, workflow modules can be synchronized.
3. Image Transmission Using Binary (Fast)
The transmission method for images (except masks) has been rewritten, including retrieving images from PS or sending images generated by ComfyUI to PS. The previous encoding method (base64 encoding) has been abandoned in favor of binary transmission to achieve the fastest transfer rates.
4. Image Clarity Optimization
First, when retrieving images from PS, the original version only obtained PS previews, which were small (1024x1024, only 50â€“80 KB) and of lower quality, causing blurring when enlarged. The current code supports directly retrieving the original PS images, ensuring clarity consistent with PS. File sizes are larger: typically 3â€“4 MB for 1K images, 10â€“20 MB for 2K images, and 30â€“40 MB for 4K images.
The logic for uploading images from PS to ComfyUI is as follows: local usage supports a maximum single image upload size of 85 MB (5400Ã—5400 px), while cloud usage supports a maximum single image upload size of 35 MB (3500Ã—3500 px). If the size exceeds the maximum limit, compressed JPGs will be used. For cloud usage, if the document is large, it is recommended to use cropping to reduce upload pressure.
5. PS-Side Image Container Rewrite (Supports Up to 9 Images)
The original version only supported displaying one image (1x1). The container has now been rewritten to include 2x2 and 3x3 image grids, supporting 1â€“9 images sent from ComfyUI to PS. Different grids are used based on the number of images. (The logic for receiving images on the PS side is image batches; batches generated in any way can be delivered to PS.)
6. Added Cloud Support
Cloud-based ComfyUI is now supported. However, the cloud environment must fully install this plugin and support loading the pluginâ€™s JS. Tested compatible environments include: XiÄngÅng Cloud, AutoDL Computing Cloud. Other clouds can be tested individually. (DuÃ nnÇo Cloud is currently unsupported because JS cannot be loaded; after no response from customer service for a long time, support was abandoned.)

II. Interface or UI Fixes
1. Optimized the floating layer of the plugin panel, seed and prompt synchronization, and other improvements for users to explore.
2. Fixed a classic bug where ComfyUI could connect to PS, but PS could not send data to ComfyUI.
3. Most bugs reported in the community have been fixed.

In summary, this version is currently the most complete one, with many optimizations. While some improvements may not be visible through the interface, users will noticeably experience faster transmission speeds, increased stability, and improved image quality.
