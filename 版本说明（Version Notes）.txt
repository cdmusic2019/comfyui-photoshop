æœ¬ç‰ˆæœ¬æ˜¯åœ¨åŸç‰ˆv1.93åŸºç¡€ä¸Šè¿›è¡Œä¼˜åŒ–å’Œå‡çº§ï¼Œç°å·²æ”¯æŒé«˜æ¸…ï¼Œå¤šå›¾ï¼Œå’Œäº‘ç«¯ä½¿ç”¨ã€‚

Â Â Â Â ä¸€ï¼ŒåŠŸèƒ½é‡å†™ï¼š

Â Â Â Â 1. è’™ç‰ˆ
Â Â Â Â å¯¹è’™ç‰ˆï¼ˆmask)çš„è·å–ä»£ç è¿›è¡Œäº†é‡å†™ï¼Œè®©å®ƒå¯ä»¥æ”¯æŒpsæœ€æ–°ç‰ˆæœ¬ã€‚æ”¯æŒps2024-ps2026,è¾“å‡ºæ ‡å‡†çš„é»‘ç™½è’™ç‰ˆ

Â Â Â Â 2. rgthreeèŠ‚ç‚¹æ”¯æŒæœ€æ–°ç‰ˆæœ¬ï¼š
Â Â Â Â å¯¹å·¥ä½œæµåˆ†ç»„èŠ‚ç‚¹åŒæ­¥ä»£ç è¿›è¡Œäº†é‡å†™ï¼Œå¯ä»¥æ”¯æŒæœ€æ–°ç‰ˆæœ¬çš„rgthree,ä»£ç ä¸Šå¢åŠ æ›´å¤šçš„é¢œè‰²åŒ¹é…æ–¹å¼ï¼Œæ›´å®¹æ˜“åŒæ­¥å·¥ä½œæµï¼Œå¢åŠ å‚»ç“œå¼åŒæ­¥æ–¹æ³•ï¼Œåªè¦å·¥ä½œæµä¸­æœ‰ä¸€ä¸ª(Fast Groups Muter )èŠ‚ç‚¹ï¼Œå°±å¯ä»¥åŒæ­¥å·¥ä½œæµæ¨¡å—

Â Â Â Â 3. å›¾ç‰‡ä¼ è¾“å‡ä½¿ç”¨äºŒè¿›åˆ¶ï¼ˆå¿«é€Ÿï¼‰
Â Â Â Â å¯¹å›¾ç‰‡ï¼ˆè’™ç‰ˆé™¤å¤–ï¼‰çš„ä¼ è¾“æ–¹å¼è¿›è¡Œäº†é‡å†™ï¼ŒåŒ…æ‹¬ä»psè·å–å›¾ç‰‡ï¼Œæˆ–comfyuiç”Ÿæˆçš„å›¾ç‰‡å‘é€åˆ°PS,å¼ƒç”¨äº†åŸæ¥çš„ç¼–ç æ–¹å¼ï¼ˆbase64ç¼–ç ï¼‰ï¼Œé‡‡ç”¨äºŒè¿›åˆ¶çš„æ–¹å¼æ¥ä¼ é€ï¼Œè·å–æœ€å¿«çš„ä¼ è¾“é€Ÿç‡ã€‚

Â Â Â Â 4. å›¾ç‰‡æ¸…æ™°åº¦ä¼˜åŒ–ã€‚
Â Â Â Â é¦–å…ˆæ˜¯ä»PSè·å–å›¾ç‰‡ï¼ŒåŸç‰ˆæœ¬è·å–çš„æ˜¯PSçš„é¢„è§ˆï¼Œç”±äºå›¾ç‰‡è¾ƒå°ï¼ˆ1024x1024ï¼‰åªæœ‰50-80kb,å›¾ç‰‡è´¨é‡è¾ƒä½ï¼Œæ”¾å¤§ä¼šæ¨¡ç³Šã€‚ ç°ä»£ç æ”¯æŒç›´æ¥è·å–PSå…ƒå›¾ç‰‡ï¼Œæ¸…æ™°åº¦å’ŒPSä¸€è‡´ï¼Œæ–‡æ¡£è¾ƒå¤§ï¼Œä¸€èˆ¬1Kçš„å›¾ç‰‡ åœ¨3M-4Mï¼Œ2Kçš„å›¾ç‰‡å¤§å°10-20Må·¦å³ï¼Œ4Kçš„å›¾ç‰‡ 30-40Må·¦å³ã€‚
Â Â Â Â å¯¹psä¸Šä¼ åˆ°comfyuiçš„å›¾ç‰‡å¤§å°é€»è¾‘æ˜¯ï¼šæœ¬åœ°ä½¿ç”¨æœ€å¤§ä¸Šä¼ å•å¼ å›¾ç‰‡å¤§å°85M ï¼ˆ5400X5400pxï¼‰,äº‘ç«¯æœ€å¤§ä¸Šä¼ å•å¼ å›¾ç‰‡å¤§å°35Mï¼ˆ3500x3500ï¼‰,è¶…è¿‡æœ€å¤§å°ºå¯¸æ—¶ä¼šä½¿ç”¨å‹ç¼©åçš„JPGã€‚äº‘ç«¯å¦‚æœæ–‡æ¡£è¾ƒå¤§å°½é‡ä½¿ç”¨è£å‰ªåŠŸèƒ½ï¼Œå‡å°‘ä¸Šä¼ å‹åŠ›ã€‚

Â Â Â Â 5. PSç«¯å›¾ç‰‡å®¹å™¨é‡å†™ï¼ˆæœ€å¤§æ”¯æŒ9å¼ å›¾ç‰‡ï¼‰
Â Â Â Â åŸç‰ˆæœ¬åªæ”¯æŒ1å¼ å›¾ç‰‡ï¼ˆ1x1ï¼‰æ˜¾ç¤ºã€‚ç°åœ¨å¯¹å®¹å™¨è¿›è¡Œäº†é‡å†™ï¼Œå¢åŠ äº†2x2 å’Œ3x3çš„å›¾ç‰‡ç½‘æ ¼ï¼Œæ”¯æŒä»comfyuiå‘é€åˆ°PSçš„å›¾ç‰‡æ•°é‡æ˜¯1-9å¼ ï¼Œæ ¹æ®å›¾ç‰‡æ•°é‡ä½¿ç”¨ä¸åŒçš„ç½‘æ ¼ã€‚ï¼ˆPSç«¯æ¥æ”¶å›¾ç‰‡çš„é€»è¾‘æ˜¯å›¾ç‰‡ç»„ï¼ˆimage batchï¼‰,æ— è®ºç”¨ä½•ç§æ–¹å¼ç”Ÿæˆçš„batchéƒ½å¯ä»¥è¾“é€åˆ°psä¸­ï¼‰

Â Â Â Â 6. æ–°å¢äº‘ç«¯æ”¯æŒï¼Œ
Â Â Â Â å¯ä»¥æ”¯æŒäº‘ç«¯comfyui.ä½†éœ€è¦äº‘ç«¯æ”¯æŒå®Œæ•´å®‰è£…æœ¬æ’ä»¶å¹¶æ”¯æŒåŠ è½½æ’ä»¶çš„JSã€‚æˆ‘æµ‹è¯•èƒ½ç”¨çš„ç¯å¢ƒæ˜¯ï¼šä»™å®«äº‘ï¼Œautodl ç®—åŠ›äº‘ã€‚å…¶ä»–äº‘è‡ªè¡Œæµ‹è¯•ã€‚ï¼ˆç«¯è„‘äº‘æš‚ä¸æ”¯æŒï¼Œå› ä¸ºJSä¸èƒ½åŠ è½½ï¼Œé—®å®¢æœåŠå¤©ä¸å›å¤ï¼Œæ”¾å¼ƒï¼ï¼‰

Â Â Â Â äºŒï¼Œç•Œé¢æˆ–UIä¿®å¤ã€‚

Â Â Â Â 1.æ’é¢æ¿ç‰ˆæ‚¬æµ®å±‚ä¼˜åŒ–ï¼Œç§å­ï¼Œæç¤ºè¯åŒæ­¥ï¼Œå…¶ä»–æ›´å¤šä¼˜åŒ–è‡ªè¡Œä½“éªŒã€‚

Â Â Â Â 2.ä¿®å¤äº†ä¸€ä¸ªç»å…¸çš„BUBï¼Œå°±æ˜¯comfyuièƒ½è¿ä¸ŠPSï¼Œä½†PSä¸èƒ½å‘é€åˆ°comfyuiçš„BUGã€‚

Â Â Â Â 3.ç¤¾åŒºä¸­è§åˆ°çš„å¤§éƒ¨ä»½bugéƒ½å·²ç»ä¿®å¤ã€‚

Â Â Â Â æ€»ä¹‹ï¼Œè¿™ä¸ªç‰ˆæœ¬åº”è¯¥æ˜¯ç›®å‰æœ€å®Œæ•´çš„ç‰ˆæœ¬ï¼Œä¼˜åŒ–äº†å¾ˆå¤šåœ°æ–¹ï¼Œå¯èƒ½é€è¿‡ç•Œé¢ä½ çœ‹ä¸å‡ºæ¥ï¼Œä½†ä½ æ˜æ˜¾èƒ½æ„Ÿè§‰å¾—ä¼ è¾“é€Ÿåº¦çš„æå‡å’Œæ›´åŠ ç¨³å®šï¼Œä»¥åŠå›¾ç‰‡è´¨é‡çš„æé«˜ã€‚

ä¼˜åŒ–æ—¥å†ï¼š

Â Â Â Â æœ€æ–°ä¼˜åŒ–ï¼š

Â Â Â Â 2026.1.30
Â Â Â Â æ·»åŠ äº†äº‘ç«¯æ”¯æŒã€‚æŠŠIPä¼˜åŒ–ä¸ºåŠ¨æ€IPï¼ŒåŠ¨æ€ç«¯å£ï¼Œæ”¯æŒæœ¬åœ°PSè¿æ¥ä¸Šäº‘ç«¯comfyuiä½¿ç”¨.(å‰ææ¡ä»¶æ˜¯éœ€è¦äº‘ç«¯èƒ½å®Œæ•´çš„å®‰è£…æœ¬æ’ä»¶ï¼ŒåŒ…æ‹¬è¿è¡Œæ’ä»¶çš„JSä»£ç )

Â Â Â Â 2026.1.24ï¼š
Â Â Â Â é‡æ„äº† Photoshop â†’ ComfyUI çš„é›†æˆï¼Œä»¥å®ç°ç»†ç²’åº¦ã€ç¡®å®šæ€§çš„ç¼“å­˜ï¼ŒåŒæ—¶ä¿æŒç®€æ´ä¸”å‘åå…¼å®¹çš„å·¥ä½œæµç¨‹ã€‚ä¼˜åŒ–äº†IS_CHANGEDå‡½æ•°ï¼Œä»¥åŠç¼“å­˜æœºåˆ¶ï¼Œå¤„ç†æ›´å¿«é€Ÿã€‚
Â Â Â Â ä¸»è¦åŒ…æ‹¬ï¼š
Â Â Â Â 1. å°†â€œğŸ”¹Photoshop ComfyUI Pluginâ€œè¿›è¡Œäº†ç»†åŒ–ï¼Œåˆ†è§£ä¸ºï¼šå›¾ç‰‡è’™ç‰ˆï¼Œç§å­ï¼Œæç¤ºè¯ï¼Œæ»‘å—å€¼ç­‰å•ç‹¬çš„èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹åç§°ä¸ºï¼š"ğŸ”¹Photoshop ComfyUI Plugin"ï¼Œ"ğŸ”¹Photoshop Seed"ï¼Œ"ğŸ”¹Photoshop Prompts"ï¼Œ"ğŸ”¹Photoshop Slider"ï¼Œæ­å»ºå·¥ä½œæµæ—¶å¯ä»¥å•ç‹¬ä½¿ç”¨å®ƒä»¬ï¼Œè®©å·¥ä½œæµå˜å¾—æ›´ç®€å•é«˜æ•ˆã€‚
Â Â Â Â 2. å…¼å®¹ä»¥å‰çš„å·¥ä½œæµï¼Œå¢åŠ æ–°èŠ‚ç‚¹çš„åŒæ—¶ï¼Œæš‚æ—¶ä¿ç•™äº†åˆå§‹èŠ‚ç‚¹ï¼ŒğŸ”¹Photoshop ComfyUI Plugin(aio),å¦‚æœä½ ä½¿ç”¨åŸç‰ˆå·¥ä½œæµï¼Œå®ƒä»ç„¶å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œä¸éœ€åšä»»ä½•ä¿®æ”¹ã€‚
Â Â Â Â æ„Ÿè°¢Michoko92çš„å¯¹ä»£ç çš„ä¼˜åŒ–ï¼Œæœ¬é‡æ„ä»£ç å‡ç”±ï¼šMichoko92 æä¾›ï¼

Â Â Â Â 2026.1.24
Â Â Â Â Refactored the integration of Photoshop â†’ ComfyUI to achieve fine-grained, deterministic caching while maintaining a streamlined and backward-compatible workflow. Optimized the IS_CHANGED function and caching mechanism for faster processing.
Â Â Â Â Main updates include:
Â Â Â Â 1.The "ğŸ”¹Photoshop ComfyUI Plugin" has been refined and broken down into separate nodes for image masks, seeds, prompts, slider values, etc. The node names are: "ğŸ”¹Photoshop ComfyUI Plugin," "ğŸ”¹Photoshop Seed," "ğŸ”¹Photoshop Prompts," "ğŸ”¹Photoshop Slider." These can be used individually when building workflows, making the workflow simpler and more efficient.
Â Â Â Â 2.Compatibility with previous workflows is maintained. While new nodes have been added, the original node "ğŸ”¹Photoshop ComfyUI Plugin (aio)" is temporarily retained. If you are using the original workflow, it will continue to function normally without any modifications.
Â Â Â Â Thanks to Michoko92. The refactored code was provided by Michoko92!

Â Â Â Â This version is optimized and upgraded based on the original v1.93. It now supports high-definition, multi-image, and cloud-based usage.

Â Â Â Â I. Feature Rewrites:

Â Â Â Â 1. Mask
Â Â Â Â The code for obtaining masks has been rewritten to support the latest version of Photoshop. It is compatible with PS 2024â€“PS 2026 and outputs standard black-and-white masks.

Â Â Â Â 2. rgthree Node Support for the Latest Version:
Â Â Â Â The workflow group node synchronization code has been rewritten to support the latest version of rgthree. More color matching methods have been added to the code, making workflow synchronization easier. A foolproof synchronization method has been introduced: as long as there is one "Fast Groups Muter" node in the workflow, workflow modules can be synchronized.

Â Â Â Â 3. Image Transmission Using Binary (Fast):
Â Â Â Â The transmission method for images (except masks) has been rewritten, including retrieving images from PS or sending images generated by ComfyUI to PS. The previous encoding method (base64 encoding) has been abandoned in favor of binary transmission to achieve the fastest transfer rates.

Â Â Â Â 4. Image Clarity Optimization:
Â Â Â Â First, when retrieving images from PS, the original version only obtained PS previews, which were small (1024x1024, only 50â€“80 KB) and of lower quality, causing blurring when enlarged. The current code supports directly retrieving the original PS images, ensuring clarity consistent with PS. File sizes are larger: typically 3â€“4 MB for 1K images, 10â€“20 MB for 2K images, and 30â€“40 MB for 4K images.
Â Â Â Â The logic for uploading images from PS to ComfyUI is as follows: local usage supports a maximum single image upload size of 85 MB (5400Ã—5400 px), while cloud usage supports a maximum single image upload size of 35 MB (3500Ã—3500 px). If the size exceeds the maximum limit, compressed JPGs will be used. For cloud usage, if the document is large, it is recommended to use cropping to reduce upload pressure.

Â Â Â Â 5. PS-Side Image Container Rewrite (Supports Up to 9 Images):
Â Â Â Â The original version only supported displaying one image (1x1). The container has now been rewritten to include 2x2 and 3x3 image grids, supporting 1â€“9 images sent from ComfyUI to PS. Different grids are used based on the number of images. (The logic for receiving images on the PS side is image batches; batches generated in any way can be delivered to PS.)

Â Â Â Â 6. Added Cloud Support:
Â Â Â Â Cloud-based ComfyUI is now supported. However, the cloud environment must fully install this plugin and support loading the pluginâ€™s JS. Tested compatible environments include: XiÄngÅng Cloud, AutoDL Computing Cloud. Other clouds can be tested individually. (DuÃ nnÇo Cloud is currently unsupported because JS cannot be loaded; after no response from customer service for a long time, support was abandoned.)

Â Â Â Â II. Interface or UI Fixes:

Â Â Â Â 1. Optimized the floating layer of the plugin panel, seed and prompt synchronization, and other improvements for users to explore.

Â Â Â Â 2. Fixed a classic bug where ComfyUI could connect to PS, but PS could not send data to ComfyUI.

Â Â Â Â 3. Most bugs reported in the community have been fixed.

Â Â Â Â In summary, this version is currently the most complete one, with many optimizations. While some improvements may not be visible through the interface, users will noticeably experience faster transmission speeds, increased stability, and improved image quality.
